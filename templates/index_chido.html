<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Lugares interesantes</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/public.css') }}">
</head>

<body class="public-page">

  <!-- ===== HEADER ===== -->
  <header class="site-header">
    <div class="container header-inner">
      <div>
        <h1 class="site-title">Lugares Públicos Interesantes</h1>
        <p class="site-lead">
          Explora sitios recomendados y abre el mapa al instante.
        </p>
      </div>

      <nav class="site-nav">
        <a href="/login" class="nav-link nav-link-outline">Acceso administrador</a>
      </nav>
    </div>
  </header>

  <main class="public-main">

    <!-- ===== HERO ===== -->
    <section class="hero">
      <div class="container hero-wrap">
        <div class="hero-card">
          <div class="hero-content">

            <!-- Lado izquierdo -->
            <div class="hero-text">
              <h2>Encuentra lugares con buena referencia</h2>
              <p>
                Aquí podrás encontrar lugares públicos interesantes con su dirección, descripción y acceso al mapa.
                En <strong>“Ver detalle”</strong> puedes consultar reseñas y calificaciones del lugar.
              </p>
            </div>

            <!-- Lado derecho (KPI) -->
            <div class="hero-side">
              <div class="kpi">
                <p class="kpi-label">Lugares registrados</p>
                <p class="kpi-value">
                  {% if lugares %}{{ lugares|length }}{% else %}0{% endif %}
                </p>
              </div>
            </div>

          </div> <!-- /.hero-content -->
        </div>   <!-- /.hero-card -->
      </div>     <!-- /.container.hero-wrap -->
    </section>

    <!-- ===== LISTADO DE LUGARES ===== -->
    <section class="list-section">
      <div class="container">

        <div class="section-header">
          <h2>Resultados</h2>
          <p>Lista pública de lugares disponibles.</p>
        </div>

        <div class="results-grid">
          {% if lugares %}
            {% for lugar in lugares %}
              {# 0:id, 1:nombre, 2:direccion, 3:mapa_url, 4:descripcion #}
              <article class="place-card">
                <div class="place-body">
                  <div class="place-top">
                    <h3 class="place-title">{{ lugar[1] }}</h3>
                    <span class="place-tag">Lugar</span>
                  </div>

                  <p class="place-address">{{ lugar[2] }}</p>

                  <p class="place-desc">
                    {{ lugar[4] if lugar[4] else "Descripción no disponible por el momento." }}
                  </p>

                  <div class="place-actions">
                    {% if lugar[3] %}
                      <a class="btn btn-outline btn-small"
                         href="{{ lugar[3] }}"
                         target="_blank">
                        Ver mapa
                      </a>
                    {% else %}
                      <span class="muted">Sin mapa</span>
                    {% endif %}

                    <a class="btn btn-primary btn-small"
                       href="/resenas/{{ lugar[0] }}">
                      Ver detalle
                    </a>
                  </div>
                </div>
              </article>
            {% endfor %}
          {% else %}
            <div class="empty-block">
              <h3>Aún no hay lugares</h3>
              <p>Cuando se registren lugares, aparecerán aquí en tarjetas.</p>
            </div>
          {% endif %}
        </div>

      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Proyecto Lugares · Vista pública</p>
    </div>
  </footer>

</body>
</html>