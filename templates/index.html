<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Lugares interesantes</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/public.css') }}">
</head>

<body class="public-page">

  <!-- ===== HEADER ===== -->
  <header class="site-header">
    <div class="container header-inner">
      <div>
        <p class="site-subtitle">Proyecto Lugares · Equipo de tesis</p>
        <h1 class="site-title">Lugares interesantes</h1>
        <p class="site-lead">Explora sitios recomendados y abre el mapa al instante.</p>
      </div>

      <nav class="site-nav">
        <a href="#explorar" class="nav-link">Explorar</a>
        <a href="/login" class="nav-link nav-link-outline">Acceso administrador</a>
      </nav>
    </div>
  </header>

  <main class="public-main">

    <!-- ===== HERO GRANDE ===== -->
    <section class="hero">
      <div class="container hero-wrap">
        <div class="hero-card">
          <div class="hero-content">
            <div class="hero-text">
              <h2>Encuentra lugares con buena referencia</h2>
              <p>
                Esta es la vista pública. Aquí se listan lugares con su dirección, descripción y acceso al mapa.
                Más adelante se integran reseñas y calificaciones.
              </p>

              <div class="hero-actions">
                <a href="#explorar" class="btn btn-primary">Explorar lugares</a>
                <a href="/login" class="btn btn-outline">Soy administrador</a>
              </div>

              <div class="hero-badges">
                <span class="badge">Público</span>
                <span class="badge">Mapa</span>
                <span class="badge">Reseñas (próximamente)</span>
              </div>
            </div>

            <div class="hero-side">
              <div class="kpi">
                <p class="kpi-label">Lugares registrados</p>
                <p class="kpi-value">
                  {% if lugares %}{{ lugares|length }}{% else %}0{% endif %}
                </p>
              </div>

              <div class="note">
                <p class="note-title">Nota</p>
                <p class="note-text">
                  El acceso administrativo requiere autenticación.
                  Esta portada solo muestra información pública.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== BARRA DE BUSQUEDA / FILTRO  ===== -->
    <section class="search-section" id="explorar">
      <div class="container">
        <div class="search-card">
          <div class="search-left">
            <h3>Explorar lugares</h3>
            <p>Filtra por nombre o colonia (solo interfaz por ahora).</p>
          </div>

          <div class="search-right">
            <input class="search-input" type="text" placeholder="Buscar lugar... (ej. Chapultepec)">
            <select class="search-select">
              <option value="">Categoría (próximamente)</option>
              <option>Museos</option>
              <option>Parques</option>
              <option>Monumentos</option>
            </select>
            <button class="btn btn-primary btn-search" type="button">Buscar</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== LISTADO LUGARES (cards) ===== -->
    <section class="list-section">
      <div class="container">

        <div class="section-header">
          <h2>Resultados</h2>
          <p>Lista pública de lugares disponibles.</p>
        </div>

        <div class="results-grid">
          {% if lugares %}
            {% for lugar in lugares %}
              {# 0:id, 1:nombre, 2:direccion, 3:mapa_url, 4:descripcion #}
              <article class="place-card">
                <div class="place-media" aria-hidden="true">
                  <div class="place-thumb"></div>
                </div>

                <div class="place-body">
                  <div class="place-top">
                    <h3 class="place-title">{{ lugar[1] }}</h3>
                    <span class="place-tag">Lugar</span>
                  </div>

                  <p class="place-address">{{ lugar[2] }}</p>

                  <p class="place-desc">
                    {{ lugar[4] if lugar[4] else "Descripción no disponible por el momento." }}
                  </p>

                  <div class="place-actions">
                    {% if lugar[3] %}
                      <a class="btn btn-outline btn-small" href="{{ lugar[3] }}" target="_blank">Ver mapa</a>
                    {% else %}
                      <span class="muted">Sin mapa</span>
                    {% endif %}

                    <a class="btn btn-primary btn-small" href="#" title="próximamente">Ver detalle</a>
                  </div>
                </div>
              </article>
            {% endfor %}
          {% else %}
            <div class="empty-block">
              <h3>Aún no hay lugares</h3>
              <p>Cuando se registren lugares, aparecerán aquí en tarjetas.</p>
            </div>
          {% endif %}
        </div>

      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Proyecto Lugares · Vista pública</p>
    </div>
  </footer>

</body>
</html>